// import '@jchptf/reflection'
import 'reflect-metadata';
import {NestFactory} from '@nestjs/core';
import {ApplicationModule} from './application.module';
import {CONCURRENT_WORK_FACTORY} from './di/coroutines-di.constants';
import {IConcurrentWorkFactory} from './interfaces/concurrent-work-factory.interface';

async function bootstrap()
{
   const app = await NestFactory.createApplicationContext(ApplicationModule);
   const concurrentWorkFactory: IConcurrentWorkFactory = app.get(CONCURRENT_WORK_FACTORY);
   // const resourceSemaphore = app.get(getResourceSemaphoreToken("FourSquare"));
   console.log(concurrentWorkFactory);
   // logic...
}

bootstrap();

